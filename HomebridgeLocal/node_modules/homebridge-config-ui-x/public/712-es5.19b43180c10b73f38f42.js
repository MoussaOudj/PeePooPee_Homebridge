!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function e(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}(self.webpackChunkui=self.webpackChunkui||[]).push([[712],{48712:function(t,i,a){"use strict";a.r(i),a.d(i,{PluginsModule:function(){return nn}});var r=a(38583),s=a(3679),l=a(95935),o=a(71271),u=a(40294),c=a(42058),p=a(63423),g=a(64762),f=a(15257),d=a(37716),h=a(79274),m=a(39607),b=a(49344),v=a(48703),Z=a(28772),x=a(81862);function _(n,t){if(1&n&&(d.TgZ(0,"li",12),d.TgZ(1,"a",13),d._UZ(2,"i",14),d._uU(3),d.qZA(),d.qZA()),2&n){var e=t.$implicit,i=d.oxw();d.xp6(1),d.Q6J("href",e.url,d.LSH),d.xp6(1),d.Q6J("ngClass",i.getIconClass(e.type)),d.xp6(1),d.hij(" ",e.url," ")}}var k=function(n){return{author:n}},y=function(){var t=function(){function t(e){n(this,t),this.activeModal=e}return e(t,[{key:"ngOnInit",value:function(){this.plugin.funding||this.activeModal.close(),Array.isArray(this.plugin.funding)?this.fundingOptions=this.plugin.funding.map(function(n){return"string"==typeof n?{type:"other",url:n}:"object"==typeof n?{type:n.type||"other",url:n.url}:void 0}):"string"==typeof this.plugin.funding?this.fundingOptions=[{type:"other",url:this.plugin.funding}]:"object"==typeof this.plugin.funding&&(this.fundingOptions=[{type:this.plugin.funding.type||"other",url:this.plugin.funding.url}])}},{key:"getIconClass",value:function(n){switch(n.toLowerCase()){case"paypal":return"fab fa-paypal";case"github":return"fab fa-github";case"patreon":return"fab fa-patreon";case"kofi":case"ko-fi":return"fas fa-coffee";default:return"fas fa-link"}}}]),t}();return t.\u0275fac=function(n){return new(n||t)(d.Y36(o.Kz))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-donate-modal"]],inputs:{plugin:"plugin"},decls:14,vars:4,consts:[[1,"modal-content"],[1,"modal-header"],["translate","plugins.donate.tile_donate_to",1,"modal-title",3,"translateParams"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"w-100","text-right"],[1,"small","mb-0"],["href","https://github.com/oznu/homebridge-config-ui-x/wiki/Developers:-Donation-Links","target","_blank","rel","noopener noreferrer","translate","plugins.donate.message_learn_more",1,"font-italic"],[1,"list-group-item"],["target","_blank","rel","noopener noreferrer",1,"text-break-all",3,"href"],[1,"mr-2","primary-text","fa-fw",3,"ngClass"]],template:function(n,t){1&n&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._UZ(2,"h5",2),d.TgZ(3,"button",3),d.NdJ("click",function(){return t.activeModal.dismiss("Cross click")}),d.TgZ(4,"span",4),d._uU(5,"\xd7"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(6,"form"),d.TgZ(7,"div",5),d.TgZ(8,"ul",6),d.YNc(9,_,4,3,"li",7),d.qZA(),d.qZA(),d.TgZ(10,"div",8),d.TgZ(11,"div",9),d.TgZ(12,"p",10),d._UZ(13,"a",11),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&n&&(d.xp6(2),d.Q6J("translateParams",d.VKq(2,k,t.plugin.author||t.plugin.name)),d.xp6(7),d.Q6J("ngForOf",t.fundingOptions))},directives:[l.Pi,s._Y,s.JL,s.F,r.sg,r.mk],styles:[".text-break-all[_ngcontent-%COMP%]{word-break:break-all}"]}),t}(),A=a(92503),w=a(37319),q=a(58605),$=function(){var t=function(){function t(){n(this,t)}return e(t,[{key:"transform",value:function(n,t,e){var i=new RegExp(t,"g");return n.replace(i,e)}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=d.Yjl({name:"replace",type:t,pure:!0}),t}();function I(n,t){1&n&&(d.TgZ(0,"p",22),d._uU(1," Installed "),d.qZA()),2&n&&d.Q6J("translate","plugins.status_installed")}function T(n,t){1&n&&(d.TgZ(0,"p",23),d._uU(1," Not Installed "),d.qZA()),2&n&&d.Q6J("translate","plugins.status_not_installed")}function J(n,t){1&n&&(d.TgZ(0,"p",24),d._UZ(1,"i",25),d._uU(2),d.ALo(3,"translate"),d.qZA()),2&n&&(d.xp6(2),d.hij(" ",d.lcZ(3,1,"plugins.status_update_available")," "))}function P(n,t){1&n&&(d.TgZ(0,"p",26),d._UZ(1,"i",27),d._uU(2),d.ALo(3,"translate"),d.qZA()),2&n&&(d.xp6(2),d.hij(" ",d.lcZ(3,1,"plugins.status_disabled")," "))}function U(n,t){if(1&n&&(d.TgZ(0,"p",28),d.TgZ(1,"a",29),d._uU(2),d.qZA(),d.qZA()),2&n){var e=d.oxw();d.xp6(1),d.Q6J("href","https://www.npmjs.com/~"+e.plugin.author,d.LSH),d.xp6(1),d.hij("@",e.plugin.author,"")}}function N(n,t){if(1&n){var e=d.EpF();d.TgZ(0,"a",35),d.NdJ("click",function(){d.CHM(e);var n=d.oxw(2);return n.openFundingModal(n.plugin)}),d.TgZ(1,"span",36),d._UZ(2,"i",37),d._uU(3),d.ALo(4,"translate"),d.qZA(),d.qZA()}2&n&&(d.xp6(3),d.hij(" ",d.lcZ(4,1,"plugins.donate.button_donate")," "))}function Y(n,t){if(1&n&&(d.TgZ(0,"p",28),d.YNc(1,N,5,3,"a",30),d.TgZ(2,"a",31),d.TgZ(3,"span",32),d._UZ(4,"i",33),d.TgZ(5,"span",34),d._uU(6," Verified"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&n){var e=d.oxw();d.xp6(1),d.Q6J("ngIf",e.plugin.funding),d.xp6(1),d.MGl("ngbTooltip","@",e.plugin.author,"")}}function j(n,t){if(1&n&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"date"),d.qZA()),2&n){var e=d.oxw();d.xp6(1),d.hij("(",d.xi3(2,1,e.plugin.lastUpdated,"yyyy-MM-dd"),")")}}function C(n,t){if(1&n){var e=d.EpF();d.TgZ(0,"a",38),d.NdJ("click",function(){d.CHM(e);var n=d.oxw();return n.$plugin.settings(n.plugin)}),d._uU(1),d.ALo(2,"uppercase"),d.ALo(3,"translate"),d.qZA()}2&n&&(d.xp6(1),d.hij(" ",d.lcZ(2,1,d.lcZ(3,3,"plugins.button_settings"))," "))}function L(n,t){if(1&n){var e=d.EpF();d.TgZ(0,"a",39),d.NdJ("click",function(){d.CHM(e);var n=d.oxw();return n.$plugin.updatePlugin(n.plugin)}),d.ALo(1,"translate"),d._uU(2),d.ALo(3,"uppercase"),d.ALo(4,"translate"),d.qZA()}if(2&n){var i=d.oxw();d.s9C("ngbTooltip",d.xi3(1,3,"plugins.tooltip_update_plugin_to",i.plugin)),d.Q6J("translate","plugins.button_update"),d.xp6(2),d.hij(" ",d.lcZ(3,6,d.lcZ(4,8,"plugins.button_update"))," ")}}function Q(n,t){if(1&n){var e=d.EpF();d.TgZ(0,"a",38),d.NdJ("click",function(){d.CHM(e);var n=d.oxw();return n.$plugin.installPlugin(n.plugin.name)}),d._uU(1),d.ALo(2,"uppercase"),d.ALo(3,"translate"),d.qZA()}2&n&&(d.xp6(1),d.hij(" ",d.lcZ(2,1,d.lcZ(3,3,"plugins.button_install"))," "))}function M(n,t){if(1&n){var e=d.EpF();d.TgZ(0,"button",40),d.NdJ("click",function(){d.CHM(e);var n=d.oxw();return n.$plugin.installPreviousVersion(n.plugin)}),d._UZ(1,"i",41),d._uU(2),d.ALo(3,"translate"),d.qZA()}2&n&&(d.xp6(2),d.hij(" ",d.lcZ(3,1,"plugins.manage.message_install_previous_version")," "))}function F(n,t){if(1&n){var e=d.EpF();d.TgZ(0,"button",40),d.NdJ("click",function(){d.CHM(e);var n=d.oxw();return n.$plugin.bridgeSettings(n.plugin)}),d._UZ(1,"i",42),d._uU(2),d.ALo(3,"translate"),d.qZA()}2&n&&(d.xp6(2),d.hij(" ",d.lcZ(3,1,"child_bridge.label_bridge_settings")," "))}function O(n,t){if(1&n){var e=d.EpF();d.TgZ(0,"button",40),d.NdJ("click",function(){d.CHM(e);var n=d.oxw();return n.$plugin.jsonEditor(n.plugin)}),d._UZ(1,"i",43),d._uU(2),d.ALo(3,"translate"),d.qZA()}2&n&&(d.xp6(2),d.hij(" ",d.lcZ(3,1,"plugins.manage.json_config")," "))}function V(n,t){if(1&n){var e=d.EpF();d.TgZ(0,"button",40),d.NdJ("click",function(){d.CHM(e);var n=d.oxw();return n.disablePlugin(n.plugin)}),d._UZ(1,"i",44),d._uU(2),d.ALo(3,"translate"),d.qZA()}2&n&&(d.xp6(2),d.hij(" ",d.lcZ(3,1,"plugins.manage.disable")," "))}function S(n,t){if(1&n){var e=d.EpF();d.TgZ(0,"button",40),d.NdJ("click",function(){d.CHM(e);var n=d.oxw();return n.enablePlugin(n.plugin)}),d._UZ(1,"i",45),d._uU(2),d.ALo(3,"translate"),d.qZA()}2&n&&(d.xp6(2),d.hij(" ",d.lcZ(3,1,"plugins.manage.enable")," "))}function D(n,t){if(1&n){var e=d.EpF();d.TgZ(0,"button",40),d.NdJ("click",function(){d.CHM(e);var n=d.oxw();return n.$plugin.uninstallPlugin(n.plugin)}),d._UZ(1,"i",46),d._uU(2),d.ALo(3,"translate"),d.qZA()}2&n&&(d.xp6(2),d.hij(" ",d.lcZ(3,1,"plugins.button_uninstall")," "))}function E(n,t){if(1&n&&(d.TgZ(0,"a",47),d._UZ(1,"i",48),d.qZA()),2&n){var e=d.oxw();d.Q6J("href",e.plugin.links.homepage||e.plugin.links.npm,d.LSH)("ngbTooltip",e.plugin.links.homepage||e.plugin.links.npm)}}var H=function(){var t=function(){function t(e,i,a,r,s,l,o,u){n(this,t),this.$plugin=e,this.$settings=i,this.$api=a,this.$notification=r,this.$translate=s,this.$modal=l,this.$toastr=o,this.$md=u,this.canDisablePlugins=!1,this.canManageBridgeSettings=!1,this.isMobile=this.$md.detect.mobile()}return e(t,[{key:"ngOnInit",value:function(){this.canDisablePlugins=!!this.$settings.env.homebridgeVersion&&(0,Z.gt)(this.$settings.env.homebridgeVersion,"1.3.0-beta.46",{includePrerelease:!0}),this.canManageBridgeSettings=!!this.$settings.env.homebridgeVersion&&(0,Z.gt)(this.$settings.env.homebridgeVersion,"1.3.0-beta.47",{includePrerelease:!0})}},{key:"openFundingModal",value:function(n){this.$modal.open(y).componentInstance.plugin=n}},{key:"disablePlugin",value:function(n){var t=this,e=this.$modal.open(x.X);e.componentInstance.title="".concat(this.$translate.instant("plugins.manage.disable"),": ").concat(n.name),e.componentInstance.message=this.$translate.instant("plugins.manage.message_confirm_disable",{pluginName:n.name}),e.componentInstance.confirmButtonLabel=this.$translate.instant("plugins.manage.disable"),e.componentInstance.cancelButtonLabel=this.$translate.instant("form.button_cancel"),e.result.then(function(){return(0,g.mG)(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$api.put("/config-editor/plugin/".concat(encodeURIComponent(n.name),"/disable"),{}).toPromise();case 3:n.disabled=!0,this.$toastr.success(this.$translate.instant("plugins.settings.toast_restart_required"),this.$translate.instant("toast.title_success")),this.$notification.configUpdated.next(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),this.$toastr.error("Failed to disable plugin: ".concat(t.t0.message),this.$translate.instant("toast.title_error"));case 11:case"end":return t.stop()}},t,this,[[0,8]])}))}).finally(function(){})}},{key:"enablePlugin",value:function(n){var t=this,e=this.$modal.open(x.X);e.componentInstance.title="".concat(this.$translate.instant("plugins.manage.enable"),": ").concat(n.name),e.componentInstance.message=this.$translate.instant("plugins.manage.message_confirm_enable",{pluginName:n.name}),e.componentInstance.confirmButtonLabel=this.$translate.instant("plugins.manage.enable"),e.componentInstance.cancelButtonLabel=this.$translate.instant("form.button_cancel"),e.result.then(function(){return(0,g.mG)(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$api.put("/config-editor/plugin/".concat(encodeURIComponent(n.name),"/enable"),{}).toPromise();case 3:n.disabled=!1,this.$toastr.success(this.$translate.instant("plugins.settings.toast_restart_required"),this.$translate.instant("toast.title_success")),this.$notification.configUpdated.next(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),this.$toastr.error("Failed to enable plugin: ".concat(t.t0.message),this.$translate.instant("toast.title_error"));case 11:case"end":return t.stop()}},t,this,[[0,8]])}))}).finally(function(){})}}]),t}();return t.\u0275fac=function(n){return new(n||t)(d.Y36(m.r),d.Y36(A.g),d.Y36(h.s),d.Y36(w.g),d.Y36(l.sK),d.Y36(o.FF),d.Y36(b._W),d.Y36(q.L))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-plugin-card"]],inputs:{plugin:"plugin"},decls:34,vars:26,consts:[[1,"card","card-body","mb-3"],[1,"d-flex","flex-row","justify-content-between"],[1,""],["class","mb-0 primary-text",3,"translate",4,"ngIf"],["class","mb-0 grey-text",3,"translate",4,"ngIf"],["class","mb-0 primary-text",4,"ngIf"],["class","mb-0 red-text",4,"ngIf"],["class","mb-0 grey-text text-right",4,"ngIf"],[1,"card-title","mb-0"],[1,"card-text"],[4,"ngIf"],[1,"d-flex"],["href","javascript:void(0)","class","card-link",3,"click",4,"ngIf"],["href","javascript:void(0)","class","card-link","placement","bottom","container","body","openDelay","150",3,"ngbTooltip","translate","click",4,"ngIf"],[1,"ml-auto"],["ngbDropdown","",1,"d-inline-block"],["href","javascript:void(0)","aria-label","Plugin actions drop down menu","ngbDropdownToggle","",1,"card-link","grey-text"],[1,"card-link"],[1,"fas","fa-wrench"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click",4,"ngIf"],["class","card-link grey-text ml-3","target","_blank","rel","noopener noreferrer","aria-label","Plugin homepage","placement","left","container","body","openDelay","150",3,"href","ngbTooltip",4,"ngIf"],[1,"mb-0","primary-text",3,"translate"],[1,"mb-0","grey-text",3,"translate"],[1,"mb-0","primary-text"],[1,"far","fa-arrow-alt-circle-up"],[1,"mb-0","red-text"],[1,"far","fa-times-circle"],[1,"mb-0","grey-text","text-right"],["target","_blank","rel","noopener noreferrer",1,"card-link","grey-text",3,"href"],["href","javascript:void(0)","class","card-link pink-text",3,"click",4,"ngIf"],["target","_blank","rel","noopener noreferrer","href","https://github.com/homebridge/homebridge/wiki/verified-Plugins",1,"card-link","grey-text",3,"ngbTooltip"],[1,"card-link","green-text"],[1,"fas","fa-shield-alt"],[1,"d-none","d-sm-inline"],["href","javascript:void(0)",1,"card-link","pink-text",3,"click"],[1,"card-link","pink-text"],[1,"fas","fa-heart"],["href","javascript:void(0)",1,"card-link",3,"click"],["href","javascript:void(0)","placement","bottom","container","body","openDelay","150",1,"card-link",3,"ngbTooltip","translate","click"],["ngbDropdownItem","",3,"click"],[1,"fas","fa-fw","fa-history"],[1,"fas","fa-fw","fa-project-diagram"],[1,"fas","fa-fw","fa-code"],[1,"far","fa-fw","fa-times-circle"],[1,"far","fa-fw","fa-check-circle"],[1,"fas","fa-fw","fa-trash"],["target","_blank","rel","noopener noreferrer","aria-label","Plugin homepage","placement","left","container","body","openDelay","150",1,"card-link","grey-text","ml-3",3,"href","ngbTooltip"],[1,"fas","fa-external-link-alt"]],template:function(n,t){1&n&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.YNc(3,I,2,1,"p",3),d.YNc(4,T,2,1,"p",4),d.YNc(5,J,4,3,"p",5),d.YNc(6,P,4,3,"p",6),d.qZA(),d.TgZ(7,"div",2),d.YNc(8,U,3,2,"p",7),d.YNc(9,Y,7,2,"p",7),d.qZA(),d.qZA(),d.TgZ(10,"h4",8),d._uU(11),d.ALo(12,"titlecase"),d.ALo(13,"replace"),d.qZA(),d.TgZ(14,"p",9),d._uU(15),d.YNc(16,j,3,4,"span",10),d.qZA(),d.TgZ(17,"div",11),d.YNc(18,C,4,5,"a",12),d.YNc(19,L,5,10,"a",13),d.YNc(20,Q,4,5,"a",12),d.TgZ(21,"div",14),d.TgZ(22,"span",15),d.TgZ(23,"a",16),d.TgZ(24,"span",17),d._UZ(25,"i",18),d.qZA(),d.qZA(),d.TgZ(26,"div",19),d.YNc(27,M,4,3,"button",20),d.YNc(28,F,4,3,"button",20),d.YNc(29,O,4,3,"button",20),d.YNc(30,V,4,3,"button",20),d.YNc(31,S,4,3,"button",20),d.YNc(32,D,4,3,"button",20),d.qZA(),d.qZA(),d.YNc(33,E,2,2,"a",21),d.qZA(),d.qZA(),d.qZA()),2&n&&(d.xp6(3),d.Q6J("ngIf",t.plugin.installedVersion&&!t.plugin.updateAvailable&&!t.plugin.disabled),d.xp6(1),d.Q6J("ngIf",!t.plugin.installedVersion),d.xp6(1),d.Q6J("ngIf",t.plugin.updateAvailable&&!t.plugin.disabled),d.xp6(1),d.Q6J("ngIf",t.plugin.installedVersion&&t.plugin.disabled),d.xp6(2),d.Q6J("ngIf",t.plugin.author&&!t.plugin.verifiedPlugin),d.xp6(1),d.Q6J("ngIf",t.plugin.verifiedPlugin),d.xp6(2),d.hij(" ",t.plugin.displayName||d.lcZ(12,20,d.Dn7(13,22,"@"===t.plugin.name.charAt(0)?t.plugin.name.split("/")[1]:t.plugin.name,"-"," "))," "),d.xp6(4),d.AsE("",t.plugin.name," v",t.plugin.installedVersion||t.plugin.latestVersion," "),d.xp6(1),d.Q6J("ngIf",t.plugin.lastUpdated),d.xp6(2),d.Q6J("ngIf",t.plugin.installedVersion),d.xp6(1),d.Q6J("ngIf",t.plugin.updateAvailable),d.xp6(1),d.Q6J("ngIf",!t.plugin.installedVersion),d.xp6(7),d.Q6J("ngIf",t.plugin.publicPackage),d.xp6(1),d.Q6J("ngIf",t.plugin.installedVersion&&"homebridge-config-ui-x"!==t.plugin.name&&t.canManageBridgeSettings),d.xp6(1),d.Q6J("ngIf",!t.isMobile&&t.plugin.installedVersion&&"homebridge-config-ui-x"!==t.plugin.name),d.xp6(1),d.Q6J("ngIf",t.plugin.installedVersion&&"homebridge-config-ui-x"!==t.plugin.name&&!t.plugin.disabled&&t.canDisablePlugins),d.xp6(1),d.Q6J("ngIf",t.plugin.installedVersion&&"homebridge-config-ui-x"!==t.plugin.name&&t.plugin.disabled),d.xp6(1),d.Q6J("ngIf",t.plugin.installedVersion&&"homebridge-config-ui-x"!==t.plugin.name),d.xp6(1),d.Q6J("ngIf",t.plugin.links.homepage||t.plugin.links.npm))},directives:[r.O5,o.jt,o.iD,o.Vi,l.Pi,o._L,o.TH],pipes:[r.rS,$,l.X$,r.uU,r.gd],styles:[""]}),t}();function R(n,t){1&n&&d._UZ(0,"app-spinner")}function B(n,t){1&n&&d._UZ(0,"i",9)}function z(n,t){if(1&n&&(d.TgZ(0,"div",10),d._UZ(1,"app-plugin-card",11),d.qZA()),2&n){var e=t.$implicit;d.xp6(1),d.Q6J("plugin",e)}}var G,X,K=[{path:"",component:(G=function(){function t(e,i,a,r,s,l){n(this,t),this.$api=e,this.$plugin=i,this.$router=a,this.$route=r,this.$toastr=s,this.$translate=l,this.installedPlugins=[],this.loading=!0}return e(t,[{key:"ngOnInit",value:function(){return(0,g.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.navigationSubscription=this.$router.events.subscribe(function(n){n instanceof p.m2&&t.loadInstalledPlugins()}),this.form=new s.cw({query:new s.NI("",[s.kI.required])}),n.next=4,this.loadInstalledPlugins();case 4:case"end":return n.stop()}},n,this)}))}},{key:"loadInstalledPlugins",value:function(){return(0,g.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.form.setValue({query:""}),this.installedPlugins=[],this.loading=!0,n.prev=1,n.next=4,this.$api.get("/plugins").toPromise();case 4:this.installedPlugins=n.sent,this.loading=!1,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),this.$toastr.error("".concat(this.$translate.instant("plugins.toast_failed_to_load_plugins"),": ").concat(n.t0.message),this.$translate.instant("toast.title_error"));case 11:this.$route.queryParams.pipe((0,f.q)(1)).subscribe(function(n){return(0,g.mG)(t,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.installed&&this.installedPlugins.find(function(t){return t.name===n.installed})&&this.$plugin.settings(this.installedPlugins.find(function(t){return t.name===n.installed})).finally(function(){e.$router.navigate([],{queryParams:{}})});case 1:case"end":return t.stop()}},t,this)}))});case 12:case"end":return n.stop()}},n,this,[[1,8]])}))}},{key:"search",value:function(){var n=this;this.installedPlugins=[],this.loading=!0,this.$api.get("/plugins/search/".concat(encodeURIComponent(this.form.value.query))).subscribe(function(t){n.installedPlugins=t,n.loading=!1},function(t){n.loading=!1,n.$toastr.error("".concat(t.error.message||t.message),"Error"),n.loadInstalledPlugins()})}},{key:"onClearSearch",value:function(){this.form.setValue({query:""}),this.loadInstalledPlugins()}},{key:"onSubmit",value:function(n){n.value.query.length?this.search():this.loadInstalledPlugins()}},{key:"ngOnDestroy",value:function(){this.navigationSubscription&&this.navigationSubscription.unsubscribe()}}]),t}(),G.\u0275fac=function(n){return new(n||G)(d.Y36(h.s),d.Y36(m.r),d.Y36(p.F0),d.Y36(p.gz),d.Y36(b._W),d.Y36(l.sK))},G.\u0275cmp=d.Xpm({type:G,selectors:[["app-plugins"]],decls:10,vars:7,consts:[[4,"ngIf"],[1,"row"],[1,"col-md-12"],["novalidate","",3,"formGroup","ngSubmit"],["type","text","formControlName","query",1,"hb-npm-search",3,"placeholder"],["href","javascript:void(0)",1,"hb-npm-search-clear",3,"click"],["class","far fa-times-circle",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-between"],["class","hb-plugin-space-between",4,"ngFor","ngForOf"],[1,"far","fa-times-circle"],[1,"hb-plugin-space-between"],[3,"plugin"]],template:function(n,t){1&n&&(d.YNc(0,R,1,0,"app-spinner",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"form",3),d.NdJ("ngSubmit",function(){return t.onSubmit(t.form)}),d._UZ(4,"input",4),d.ALo(5,"translate"),d.TgZ(6,"a",5),d.NdJ("click",function(){return t.onClearSearch()}),d.YNc(7,B,1,0,"i",6),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(8,"div",7),d.YNc(9,z,2,1,"div",8),d.qZA()),2&n&&(d.Q6J("ngIf",t.loading),d.xp6(3),d.Q6J("formGroup",t.form),d.xp6(1),d.Q6J("placeholder",d.lcZ(5,5,"plugins.placeholder_search_plugin")),d.xp6(3),d.Q6J("ngIf",t.form.controls.query.value),d.xp6(2),d.Q6J("ngForOf",t.installedPlugins))},directives:[r.O5,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,r.sg,v.O,H],pipes:[l.X$],styles:[".hb-npm-search[_ngcontent-%COMP%]{outline:none;box-sizing:inherit!important;background-color:inherit;height:50px!important;width:100%;border:.5px solid #d0d0d0;padding:10px;margin-bottom:15px}@media (hover: hover){.hb-npm-search[_ngcontent-%COMP%]:hover{border:1px solid #000}}.hb-npm-search[_ngcontent-%COMP%]:focus{border:1px solid #000;box-shadow:0 1px 0 0 #000}.hb-npm-search-clear[_ngcontent-%COMP%]{position:absolute;right:25px;font-size:35px;color:#d0d0d0;line-height:50px;cursor:pointer}.hb-plugin-space-between[_ngcontent-%COMP%]{box-sizing:border-box;width:calc(1 / 2 * 100% - (1 - 1 / 3) * 10px)}@media only screen and (max-width: 991px){.hb-plugin-space-between[_ngcontent-%COMP%]{width:calc(100% - (1 - 1 / 3) * 10px)}}"]}),G)}],W=function(){var t=function t(){n(this,t)};return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[p.Bz.forChild(K)],p.Bz]}),t}(),nn=((X=function t(){n(this,t)}).\u0275fac=function(n){return new(n||X)},X.\u0275mod=d.oAB({type:X}),X.\u0275inj=d.cJS({imports:[[r.ez,s.u5,s.UX,l.aw.forChild(),o.IJ,u.I,c.E,W]]}),X)}}])}();